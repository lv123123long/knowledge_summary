# 数据库事务的特性

## 原子性
原子性：意味着事务是一个不可分割的工作单位。其中包含的操作要么全部执行成功，要么全部不执行。
如果在执行过程中遇到错误或者系统奔溃，所有已执行操作会被回滚，确保数据库状态不会被部分执行的事务影响


## 一致性

一致性：一致性保证了事务执行前后，数据库从一个一致的状态转移到另外一个一致的状态，这意味着事务必须遵循定义的规则和约束，如外键检查，唯一性约束等，从而防止非法操作破坏数据库的一致性


## 隔离性

隔离性：指的是并发执行的多个事务之间相互隔离，互不影响，每个事务都应在独立的环境中运行，如同它是唯一的活动事务一样。然而，在实际应用中，为了提高性能，数据库管理系统会采用不同的隔离级别，允许一定程度的交互，但同时要避免出现脏读，不可重复读和幻读等问题

### 脏读
脏读指的是 一个事务能够读取另外一个未提交事务所做的更改

假设事务A修改了一行数据但尚未提交，事务B在此时读取了这行数据。如果事务A最终回滚了它的修改，那么事务B读取的数据实际上从未存在于数据库中，这就构成了脏读。为了避免这种情况，可以设置更高的事务隔离级别来防止一个事务读取到其他未提交事务的数据。

### 不可重复读

不可重复读发生在一个事务内尝试重复读取同一行数据，但在两次读取之间，另一个已提交的事务修改了该行数据的情况。例如，事务A第一次读取一行数据后，事务B更新了这行并提交。当事务A再次读取这行数据时，发现数据已经改变。这种情况称为不可重复读。为了解决这个问题，可以使用更严格的隔离级别，比如可重复读（Repeatable Read），确保在同一个事务内的多次读取结果一致。


### 幻读
幻读与不可重复读类似，但它关注的是新插入或删除的行，而不是单行数据的变化。具体来说，当一个事务重新执行一个查询时，可能会发现之前没有看到的新行（由其他事务插入），或者之前能看到的行消失了（被其他事务删除）。这种现象被称为幻读。尽管在一些隔离级别下可以避免不可重复读，但要完全消除幻读，则需要最高的隔离级别——序列化（Serializable），它通过锁定更多的资源来阻止其他事务对数据进行任何修改，直到当前事务完成。

## 持久性
一旦事务提交，其对数据库所做的更改就是永久性的，即使发生系统故障也不会丢失，持久性通过变更记录到持久存储中来实现，确保即便系统奔溃也能恢复这些更改

